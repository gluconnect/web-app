<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gluconnect Web</title>
    <link rel="stylesheet" href="../styles.css">
</head>
<body>
    <div class="app-navbar-notch"></div>
    <div id="content" style="height: 100%; justify-content: space-evenly;">
        <button id="collapseViewers" onclick="toggleViewers()" style="left: 20px; display: none;">Show Viewers</button>
        <div id="viewers" style="flex-grow:2;" class="subpanel">
            <h1>Viewers<button onclick="toggleViewers()" style="position: absolute;">^</button></h1>
            <h3>You currently have <span id="currentViewerCount">0</span> connected viewers.</h3>
            <p id="viewerInstructions">Connect a viewer to authorize them to view your glucose readings</p>
            <button id="addViewer" onclick="addViewerForm()">Connect</button>
            <ul id="viewerList">
                <!-- List of available caretakers will be populated here -->
            </ul>
        </div>
        <button id="collapsePatients" onclick="togglePatients()" style="left: 20px; display: none;">Show Patients</button>
        <div id="patients" style="flex-grow:2;" class="subpanel">
            <h1>Patients<button onclick="togglePatients()" style="position: absolute;">^</button></h1>
            <h3>You currently have <span id="currentPatientCount">0</span> connected patients.</h3>
            <p id="patientInstructions">Patients can add you as a viewer</p>
            <!--TODO invite patients-->
            <ul id="patientList">
                <!-- List of available patients will be populated here -->
            </ul>
        </div>
        <p id="errorMessage" class="warning"></p>
    </div>

    <script src="../inject-navbar.js"></script>
    <script src="../fetcher.js"></script>
    <script src="script.js"></script>
    <script src="api.js"></script>
</body>
</html>